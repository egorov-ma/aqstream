<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.24.xsd">

    <!-- Seed: демонстрационные публичные события -->

    <changeSet id="016-1" author="aqstream">
        <comment>Добавление демо-событий для разработки</comment>

        <sql>
            INSERT INTO event_service.events (
                id, tenant_id, title, slug, description, status,
                starts_at, ends_at, timezone, location_type, location_address, online_url,
                is_public, max_capacity, created_at, updated_at
            ) VALUES
            -- 1. Офлайн конференция
            (
                '11111111-1111-1111-1111-111111111111',
                '00000000-0000-0000-0000-000000000001',
                'Конференция по искусственному интеллекту 2025',
                'ai-conference-2025',
                'Ежегодная конференция по ИИ и машинному обучению. Доклады от ведущих экспертов индустрии. Узнайте о последних достижениях в области нейронных сетей, компьютерного зрения и обработки естественного языка.',
                'PUBLISHED',
                NOW() + INTERVAL '7 days',
                NOW() + INTERVAL '7 days' + INTERVAL '8 hours',
                'Europe/Moscow',
                'OFFLINE',
                'Москва, Технопарк Сколково, Инновационный центр',
                NULL,
                true,
                500,
                NOW(),
                NOW()
            ),
            -- 2. Онлайн вебинар
            (
                '22222222-2222-2222-2222-222222222222',
                '00000000-0000-0000-0000-000000000001',
                'Мастер-класс: Разработка на TypeScript',
                'typescript-masterclass',
                'Практический вебинар по современной разработке на TypeScript. Разберём продвинутые паттерны, дженерики, условные типы и утилитарные типы. Для разработчиков с опытом JavaScript.',
                'PUBLISHED',
                NOW() + INTERVAL '3 days',
                NOW() + INTERVAL '3 days' + INTERVAL '2 hours',
                'Europe/Moscow',
                'ONLINE',
                NULL,
                'https://meet.example.com/typescript',
                true,
                100,
                NOW(),
                NOW()
            ),
            -- 3. Гибридное мероприятие
            (
                '33333333-3333-3333-3333-333333333333',
                '00000000-0000-0000-0000-000000000002',
                'Tech Meetup: Будущее веб-разработки',
                'web-future-meetup',
                'Гибридный митап для разработчиков. Присоединяйтесь очно или онлайн! Обсудим WebAssembly, Edge Computing, новые фреймворки и тренды фронтенд-разработки.',
                'PUBLISHED',
                NOW() + INTERVAL '14 days',
                NOW() + INTERVAL '14 days' + INTERVAL '3 hours',
                'Europe/Moscow',
                'HYBRID',
                'Санкт-Петербург, Коворкинг Digital Space',
                'https://stream.example.com/meetup',
                true,
                50,
                NOW(),
                NOW()
            ),
            -- 4. Воркшоп
            (
                '44444444-4444-4444-4444-444444444444',
                '00000000-0000-0000-0000-000000000002',
                'Воркшоп: Дизайн-системы на практике',
                'design-systems-workshop',
                'Практический воркшоп по созданию и внедрению дизайн-систем. Работаем с Figma и React. Научитесь создавать переиспользуемые компоненты и документировать их.',
                'PUBLISHED',
                NOW() + INTERVAL '10 days',
                NOW() + INTERVAL '10 days' + INTERVAL '6 hours',
                'Europe/Moscow',
                'OFFLINE',
                'Москва, WeWork Белая Площадь',
                NULL,
                true,
                30,
                NOW(),
                NOW()
            ),
            -- 5. Хакатон (онлайн)
            (
                '55555555-5555-5555-5555-555555555555',
                '00000000-0000-0000-0000-000000000001',
                'Хакатон: Open Source Weekend',
                'opensource-hackathon',
                '48-часовой онлайн хакатон. Создаём open source проекты вместе! Призовой фонд 500,000 рублей. Менторы из ведущих IT-компаний помогут воплотить ваши идеи.',
                'PUBLISHED',
                NOW() + INTERVAL '21 days',
                NOW() + INTERVAL '23 days',
                'Europe/Moscow',
                'ONLINE',
                NULL,
                'https://hackathon.example.com',
                true,
                200,
                NOW(),
                NOW()
            ),
            -- 6. Конференция (гибрид)
            (
                '66666666-6666-6666-6666-666666666666',
                '00000000-0000-0000-0000-000000000002',
                'DevOps Days Moscow 2025',
                'devops-days-2025',
                'Крупнейшая DevOps конференция в России. 2 дня докладов, воркшопов и нетворкинга. Kubernetes, CI/CD, SRE, Platform Engineering и многое другое.',
                'PUBLISHED',
                NOW() + INTERVAL '30 days',
                NOW() + INTERVAL '31 days',
                'Europe/Moscow',
                'HYBRID',
                'Москва, Экспоцентр',
                'https://devopsdays.example.com/stream',
                true,
                1000,
                NOW(),
                NOW()
            )
            ON CONFLICT (id) DO NOTHING;
        </sql>

        <rollback>
            <sql>
                DELETE FROM event_service.events
                WHERE id IN (
                    '11111111-1111-1111-1111-111111111111',
                    '22222222-2222-2222-2222-222222222222',
                    '33333333-3333-3333-3333-333333333333',
                    '44444444-4444-4444-4444-444444444444',
                    '55555555-5555-5555-5555-555555555555',
                    '66666666-6666-6666-6666-666666666666'
                );
            </sql>
        </rollback>
    </changeSet>

</databaseChangeLog>
